<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>tasks/typedoc.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-tasks.html">tasks</a><ul class='methods'><li data-type='method'><a href="module-tasks.html#~typedocTask">typedocTask</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">tasks/typedoc.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

const { argValidator: _argValidator } = require('@vamship/arg-utils');
const { ArgError } = require('@vamship/error-types').args;
const _typedoc = require('typedoc');

/**
 * Grunt task that uses typedoc to generate documentation from typescript source
 * files.
 *
 * @module tasks
 */

/**
 * Registers a task with the grunt task runner to execute typedoc generation.
 *
 * @param {Object} grunt Reference to the task runner.
 */
const typedocTask = function(grunt) {
    _argValidator.checkObject(grunt, 'Invalid grunt object (arg #1)');

    grunt.registerMultiTask(
        'typedoc',
        'Generates documentation from typescript source files',
        function() {
            const options = this.options({});
            if (
                !_argValidator.checkString(options.out, 1) &amp;&amp;
                !_argValidator.checkString(options.json, 1)
            ) {
                throw new ArgError(
                    'Options must define "out" or "json" as a valid string'
                );
            }
            grunt.log.writeln(this);

            if (this.filesSrc.length &lt;= 0) {
                throw new ArgError(
                    'No input files to generates documentation from'
                );
            }
            const { out, json } = options;
            delete options.out;
            delete options.json;

            options.logger = (message, level) => {
                grunt.log.writeln(message);
            };

            const app = new _typedoc.Application(options);
            const expandedFileList = app.expandInputFiles(this.filesSrc);
            const result = app.convert(expandedFileList);
            if (!result) {
                return false;
            }

            if (out) {
                app.generateDocs(result, out);
            }

            if (json) {
                app.generateJson(result, json);
            }

            return true;
        }
    );
};

module.exports = typedocTask;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jun 11 2018 16:45:43 GMT-0400 (EDT) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
